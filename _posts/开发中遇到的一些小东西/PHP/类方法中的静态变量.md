---
title: 类方法中的静态变量
date: 2020-3-2
categories: PHP
tags: 
- PHP
---

```php
class t
{
    public function get()
    {
        static $rand;
        static $i = 0;
        echo ++$i."\n";
        if (!$rand) {
            $rand = uniqid();
        }
        return $rand;
    }
    
}

function p($data) {
    echo $data."\n";
}

$t1 = new t();

p($t1->get());
p($t1->get());
p($t1->get());
p($t1->get());

sleep(1);
$t2 = new t();

p($t2->get());
p($t2->get());
p($t2->get());
p($t2->get());

```

从结果可以看出，即便是重新实例化一个类，类方法中的静态变量也是一直「保留」的。