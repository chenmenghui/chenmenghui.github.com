---
title: 实际开发中遇到的一些实用却不常见的函数/功能等
date: 2019-12-26
categories: PHP
tags: 
- PHP
- 实用代码片段
---

### 接口Countable

[类实现 Countable 可被用于 count() 函数. ](https://www.php.net/manual/zh/class.countable.php)

如
```php
class CountMe implements \Countable
{

    protected $_myCount = 3;

    public function count()
    {
        return $this->_myCount;
    }

}

$countable = new CountMe();

echo count($countable); // 3
```

### 方法debug_backtrace

[产生一条回溯跟踪(backtrace)](https://www.php.net/manual/zh/function.debug-backtrace.php)

```php

<?php
// filename: /tmp/a.php

function a_test($str)
{
    echo "\nHi: $str";
    var_dump(debug_backtrace());
}

a_test('friend');
?>

<?php
// filename: /tmp/b.php
include_once '/tmp/a.php';
?>

// execute result

Hi: friendarray(2) {
  [0]=>
  array(4) {
    ["file"]=>
    string(17) "F:\test\tmp\a.php"
    ["line"]=>
    int(10)
    ["function"]=>
    string(6) "a_test"
    ["args"]=>
    array(1) {
      [0]=>
      string(6) "friend"
    }
  }
  [1]=>
  array(4) {
    ["file"]=>
    string(17) "F:\test\tmp\b.php"
    ["line"]=>
    int(3)
    ["args"]=>
    array(1) {
      [0]=>
      string(17) "F:\test\tmp\a.php"
    }
    ["function"]=>
    string(12) "include_once"
  }
}

Process finished with exit code 0
```
