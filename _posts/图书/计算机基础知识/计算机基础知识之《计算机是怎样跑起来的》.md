---
title: 计算机基础知识之《计算机是怎样跑起来的》
date: 2018-09-06
categories: 
- 图书
- 计算机基础
tags: 计算机基础
---

# 第一章 计算机的三大原则
## 问题
 - 什么是编码？
    通常将为了便于计算机处理而经过数字化处理的信息称作编码
    计算机内部会把所有的信息都当成数字来处理，尽管有些信息本来不是数字。比如，用于表示字符的数字是“字符编码”，用于表示颜色的数字是“颜色编码”
## 小章节
1. 计算机的三大根本性基础
    1. **计算机是执行输入、运算、输出的机器**
    2. **程序是指令和数据的集合**
    3. **计算机的处理方式有时与人的思维方式不同**
2. 输入、运算、输出是硬件的基础
    输入、运算、输出是三者必须成套出现，缺一不可。
    - 现在的计算机没有自主意识，因而不可能独立思考创造信息
    - 没有运算的机器那是电线
    - 没有输出，那就不是计算机而是垃圾箱
3. 软件是指令和数据的集合
4. 对计算机来说，什么都是数字
## 个人理解
计算机是什么？当看到第二小节是那句“计算机是处理信息的机器”一下子就冒出来了，如果没记错的话那还是初中或高中计算机课提到的……当浏览第二章时，这种计算机硬件是“信息”输入、运算、输出的机器的观点给我当头一棒。
# 第二章 试着自己制造一台计算机吧
## 问题
- CPU是什么的缩写
    Central Processing Unit（中央处理器）
## 小章节
1. 制作微型计算机所必须的原件
    1. CPU
    2. 内存
    3. I/O
    4. 时钟发生器
    5. 指拨开关
2. 链接电源、数据和地址总线

> 涉及到的一些相关词汇

- IC集成电路（integrated circuit）是一种微型电子器件或部件。采用一定的工艺，把一个电路中所需的晶体管、电阻、电容和电感等元件及布线互连一起，制作在一小块或几小块半导体晶片或介质基片上，然后封装在一个管壳内，成为具有所需电路功能的微型结构；其中所有元件在结构上已组成一个整体，使电子元件向着微小型化、低功耗、智能化和高可靠性方面迈进了一大步。它在电路中用字母IC表示。集成电路发明者为杰克▪基尔比（基于锗（Ge）的集成电路）和罗伯特▪诺伊思（基于硅（Si）的集成电路）。当今半导体工业大多数应用的是基于硅的集成电路。
- 时钟信号是计算机科学以及相关领域用语，时钟信号通常被用于同步电路当中，扮演计时器的角色，保证相关的电子组件得以同步运作。
- 寄存器，是集成电路中非常重要的一种存储单元，通常由触发器组成。在集成电路设计中，寄存器可分为电路内部使用的寄存器和充当内外部接口的寄存器这两类。内部寄存器不能被外部电路或软件访问，只是为内部电路的实现存储功能或满足电路的时序要求。而接口寄存器可以同时被内部电路和外部电路或软件访问，CPU中的寄存器就是其中一种，作为软硬件的接口，为广泛的通用编程用户所熟知。

> 各个IC的接脚

- Vcc和GND（共有），IC和普通电器一样，需要接通电源才可以使用。Vcc是电源电压（相当于正极），GND是接地线（相当于负极）
- A0-A15（address）（共有），其后的数字表示一个16位的二进制数中各个数字的位置。这16个引脚，可以表示0000 0000 0000 0000-1111 1111 1111 1111（二进制）个数据存取单元
- D0-D7（data）（共有），其后数字和上述一样，Z80的CPU可以一次性的输入或输出8比特（八个引脚）的数据，如若输入输出超过8比特的数据，只得先把数据拆分
- B/A和C/D（I/O），控制出I/O的上寄存器的引脚（和CPU的A0、A1相连）。Z80 PIO共有4个寄存器。两个用于设定PIO本身功能，两个用于存储与外部设备进行输入输出的数据
- MREQ（Memory Request 内存请求）和IORQ（I/O Request I/O请求）（cpu）
- CE（CHip Enable 选通信片）（内存和I/O），跟CPU上的MREQ和IORQ搭配以控制当下CPU和谁连接
- RD（read 输入）和WR（write 输出）（CPU），表示当前和内存或I/O连接是输出还是输出
- M1（Machine Cycle 1 机器周期1）（CPU、I/O）用于同步的引脚
- INT（Interrupt 中断）（CPU、I/O）I/O可以中断CPU正在执行程序的引脚
- RESET（重置），重置CPU，可以启动CPU
- BUS（总线，这里不是指特定的引脚，只是个说明），连接到CPU中数据引脚、地址引脚、控制引脚的电路的统称。使用快动开关可以使Z80 CPU的BUSRQ（Bus Request 总线请求）上的值在0和1之前切换。若BUSRQ为0，则CPU从电路中隔离。当处于这种隔离状态时，就可以不通过CPU，手动地向内存写入程序了。向这样不经过CPU而直接从外部设备读写内存的行为叫做DMA（Direct Memory Access 直接储存器访问）。在真实的计算机中，硬盘等设备要读写内存使用的就是DMA。
- BUSAK（BUS Acknowledge 响应总线请求）只有BUSRQ和BUSAK同时为0时才可以进行DMA
## 个人理解
这一章是我目前读过（粗读）次数最多的章节，然而直到我打算把这些内容做个笔记是也有些概念没有理解，就是那个“寄存器”，好吧，现在我的迷茫只比之前清了少些。说起来真是如此，对照着Z80微型计算机的线路图那么走上一遍，对于计算机的理解还真的深了一些。好吧，这些都谈不上个人理解，只能算个人感想……
对于时钟信号和寄存器，我还是不甚理解。算了，有时候囫囵吞枣是必要的
时钟信号一开始我以为是想之前自己网络编程中的那种网页刷新效果一般，是触发CPU运行的东西。现在看来不是，这玩意是同步CPU、内存和I/O之间通讯的东西，一个周期意味着同时进行一步（如输入或输出一个8字节的数据，这里的8字节因为Z80CPU是8位的，现在电脑都是64位的了）
# 第三章 体验一次手工汇编
## 问题
1. 什么是机器语言？
由二进制数字构成的程序，CPU可以直接对其解释、执行。不管汇编语言还是高级语言，都必须先转化为机器语言才能被执行。机器语言也被称作原生代码（Native Code）。
2. 通常吧标志内存或I/O中存储单元的数字称作什么？
地址。内存中由多个数据存储单元。计算机从0开始发的编号标识每一个存储单元，这些编号就是地址（Address）。I/O中的寄存器也可以用地址标识。
3. CPU中的标志寄存器（Flags Register）有什么用？
用于在运算指令执行后，存储运算结果的某些状态。flag本意是“旗子”，这里引申为“标志”。一旦执行了算数运算、逻辑运算、比较运算等指令后，标识寄存器并不会存放运算结果的值，而是会把运算后的某些状态存储起来。例如运算结果是否为0，是否产生了负数，是否有溢出（overflow）等。
## 小章节
### 从从程序员的角度看硬件
真正需要了解的硬件信息只有七种，没有必要在编程的时候还看着电路图。

- CPU信息
    - CPU种类
        - 可以使用那种机器语言取决于CPU的种类。不同的CPU可能使用不同的机器语言。
    - 时钟信号频率
        - 所谓时钟信号频率，就是由时钟发生器送给CPU的电信号的频率。
- 内存信息
    - 地址空间
        - 每个地址都标识着一个内存中的数据存储单元，这些地址的范围即为地址空间
    - 每个地址可以存储多少比特的信息
        - Z80计算机每一个地址可以存储8比特（1字节）的指令或数据
- I/O信息
    - I/O的种类
        - 连接这计算机和周边设备的I/
    - 地址空间
    - 连接着何种周边设备

### 机器语言和汇编语言
- 简单的说，机器语言是CPU可以直接运行的代码，就是那个010101；汇编语言是使用“助记符”（代替机器语言特定动作的简短符号）表示的机器语言。
- 汇编语言的语法十分简单，以至于语法只有一个，即把“标签”、“操作码（指令）”和“操作数（指令的对象）”并写在一行。
    - 标签的作用是为该行代码对应的内存地址起一个名字。
    - 操作码就是表示“做什么”的指令
    - 操作数表示的是指令执行的对象。CPU的寄存器、内存地址、I/O地址或直接给出的数字都可以作为操作数。多个操作数之间使用逗号隔开
### Z80 CPU寄存器的结构
- 计算机的硬件有三个基本要素，CPU、内存和I/O
    - CPU负责解释、执行程序，从内存或I/O输入数据，在内部进行运算，再把运算结果输出到内存和I/O。
    - 内存存放着程序，程序是指令和数据的集合。
    - I/O中临时存放着用于和周边设备进行输入输出的数据。
- Z80CPU中的寄存器
与I/O中的寄存器不同，CPU中的寄存器不仅能存储数据，还具备着对数据进行运算的能力。
CPU带什么样的寄存器取决于CPU的种类。Z80 CPU带有A、B……L、I、R、IX、IY、SP、PC。后四个寄存器的大小是16比特，其余是8比特。寄存器的用途取决与它的类型。有的指令只能将特定的寄存器指定为操作数。
举例来说
    - A寄存器也叫做“累加器”，是运算的核心。
    - F寄存器也叫做“标志寄存器”，用于存储运算结果的状态，比如是否发生了进位，数字大小的比较结果等。
    - PC寄存器也叫作“程序指针”，存储着执行CPU接下来要执行的指令地址。PC寄存器的值会随着时钟信号自动更新，可以说程序就是依靠不断变化的PC寄存器的值运行起来的。
    - SP寄存器也叫做“栈顶指针”，用于在内存中创建一块成为“栈”的临时数据存储区域。
### 追踪程序的运行过程
通过反复的进行“读取指令”“解释、执行指令”“更新PC寄存器的值”这三个操作，程序就能运行起来了……
### 尝试手工汇编
在CPU的资料中，明确写有可以使用的助记符，以及助记符转化为机器语言的数值。通过这些资料，就可以手工地把汇编语言编写的程序转化为机器语言的程序……
### 尝试估算程序的执行时间
把每条指令的时钟累加起来……    
# 第四章 程序像河流一样流动着
## 问题
1. flow chart的中文意思是什么？
流程图。
2. 请说出自然界中河流的三种流动方式。
向一个方向流淌；流着流着产生支流；卷成旋涡。
好吧，分别对应顺序执行、条件分支和循环，这作者也是够了。
3. 事件驱动是什么？
用户的操作等产生事件后，由事件决定程序的流程。
好吧，js各种事件么……
## 小章节
### 程序的流程分为三种
CPU中的有一个被称作PC（program couter 程序计数器）的寄存器，负责存储内存地址，该地址指向下一条即将执行的指令。每解释执行一条指令，PC寄存器的值就会自动被更新为下一条指令的地址。
### 结构化程序设计
为了把程序编写得具备结构性，仅使用顺序执行、条件分支和循环表示程序的流程即可，而不再使用跳转指令。
作为计算机硬件上的行为，无论是条件分支还是循环都必须使用跳转指令实现。但高级语言中跳转就变得可有可无了，反而在高级语言中使用跳转会使得程序陷入到流程错综复杂的状态。
### 画流程图来思考算法
算法，就是解决既定问题的步骤。想让计算机解决问题，就需要把问题的解法转化成程序的流程。
思考算法是的要点是分两步走，先从整体上考虑程序的粗略流程，再考虑程序各个部分细节的流程。几乎所有的程序从整体来看都具有一个一成不变的流程——**初始化处理->循环处理->收尾处理**
### 特殊的程序流程——中断处理
中断处理是指程序的流程突然跳转到程序中特定的地方，这样的地方被成为中断处理例程（Routine）或中断处理程序（Handle），而这种跳转是通过CPU所具备的硬件功能实现的。
中断处理以硬件发出的请求为条件，使程序的流程产生分支，因此可以说它是一种特殊的条件分支。但编写程序是并不需要编写有关中断处理的代码。因为处理中断请求的程序，或内置于被烧录在计算机ROM中的BIOS系统（Basic Input Output System 基本输入输出系统，或内置于相应的操作系统中。
### 特殊的程序流程——事件驱动
可以把事件驱动想象成两个程序在对话，如下
```c
/**
 * 主程序
 */
int APIENTER WinMain() {}

/**
 * 窗口过程
 */
LRESULT CALLBACK WndProc(){}
```
通常把用户在应用程序中点击鼠标或者敲击键盘这样的操作称作“事件”（Event）。负责检测事件的是windows。Windows通过调用应用程序WndProc()函数通知应用程序的发生。而应用程序根据事件的类型做出相应的处理。这种机制就是事件驱动。可以说事件驱动也是一种特殊的分支，它以从Windows送来的通知为条件，根据通知的内容决定程序的下一步流程。
要实现事件驱动，就必须吧应用程序中的WndProc()函数的起始内存地址告诉Windows。这一步将在应用程序WinMain()中作为初始化处理被执行。
## 个人理解
这一章主要理解了PC（process counter）这个东西。好吧，我能说这个东西我看了五六遍才知道大约理解了么……好吧，幸亏看书之前有了做笔记的决定——即使这个笔记大部分是照抄的，也是蛮有用的。话说这个process counter用的是队列吗，要不然怎么知道下一个地址指的是谁？
一开始对书中所描绘的“事件驱动”给整蒙了。好吧，这有什么，不就是js中的绑定事件么……就是初始化处理这块我一下子没有转过来弯（好吧，那个on之类的说的大概就是这个）。
对于整个中断处理，还是第一次知道到底怎么回事。话说那个键盘输入的例子，就是那个DMA（direct memory access）吧。
至于流程图什么的，还真很少做过。主要是感觉费时间。我一直想找一个简单的描绘流程图之类的软件，可惜那大都需要学习成本，一开始就打到我了。
那个结构化设计，好吧，除了一开始接触的basic语言，还真没用过。php自带的这个我现在都不会用……
# 第五章 与算法成为好朋友的七个要点
## 问题
1. 程序中“哨兵”指的是什么？
“哨兵”指的是一种含有特殊值的数据，可用于表示数据的结尾等。
字符串的末尾用0表示（这不是php……），链表的末尾用-1表示，像这样特殊的数据就是哨兵。
## 小章节
### 算法是程序设计的“熟语”
- 要点1：算法中解决问题的步骤是明确切有限的。
    - 通俗地说，算法就是**把解决问题的步骤无一遗漏地用文字或图表示出来，其中步骤必须是明确并且步骤数必须是有限的**。
    - 把算法定义中的“用文字或图”换成“用程序”，就成了程序的定义了……
    - 明确是指，在解决问题的步骤中，有了与直觉相关的因素，就不算算法了。
- 要点2：计算机不考直觉而是机械地解决问题
    1. 步骤是明确的、完全不依赖直觉的
    2. 步骤是机械的、不需要动脑筋就能完成的
    3. 使步骤终止的原因是明确的
- 要点3：了解并应用典型算法
- 要点4：利用计算机的处理速度
- 要点5：使用编程技巧提升程序执行速度
    - 比如“哨兵”
- 要点6：找出数字间的规律
    - 所有的信息都可以用数字表示——这是计算机的特性之一。因此为了构造算法，经常会利用到存在与数字间的规律。
- 要点7：先在纸上考虑算法
## 个人理解
那个，找出数字间的规律还是满考验“直觉”的，就那个比拳算法我就没有想起来……如果是我，估计得一堆and和or……
# 第六章 与数据结构成为好朋友的七个要点
## 问题 
- 程序中的变量是指什么？
变量是数据的容器。
变量中所存储的数据是可以改变的。变量的实质是按照变量所存储数据的大小被分配到的一块内存空间。
- 把若干个数据沿直线排列起来的数据结构叫做什么？
数组
使用了数组就可以高效地处理大量的数据。数组的实质是连续分配的一块特定大小的内存空间。
- 栈和队列的区别是什么 
前者LIFO（Last In First Out)，后者FIFO（First In First Out）。
## 小章节
- 要点1：了解内存和变量的关系
    - 计算机所处理的数据都存储在被称为内存的IC中。在一般的个人计算机中，内存内部被分割成若干数据存储单元，每个单元可以存储8比特的数据（8比特 = 1字节）。为了区分这些单元，每个单元被分配了一个编号，这个编号被成为“地址”。
    - 因为依靠指定地址的方式编写程序很麻烦，所以在几乎所有的高级语言中，都是使用变量把数据存储进内存，或从内存中把数据读出来。
    - 变量的实质是按照变量所存储数据的大小被分配到的一块内存空间。
- 要点2：了解作为数据结构基础的数组
    - 数组实际上是为了存储多个数据而在内存上集中分配出的一块内存空间。
    - 数组是数据结构的基础，之所以这么说是因为数组反映了内存的物理结构本身。
- 要点3：了解数组的应用——作为典型算法的数据结构
    - 数组是一种直接利用内存物理结构（计算机的特性）的最基本的数据结构。
- 要点4：了解并掌握典型数据结构的类型和概念
    - 典型数据结构
    
| 名称 | 数据结构的特征 |
| --- | --- | 
| 栈 | 把数据像小山那样堆积起来 |
| 队列 | 把数据排成一队 |
| 链表 | 可以任意地改变数据的排列顺序 |
| 二叉树 | 把数据分成两路排列 |

这些数据结构其实都是通过程序从逻辑上改变了内存的物理结构。

- 要点５：了解栈和队列的实现方法
栈
```c
char Stack[100];        /* 作为栈本质的数组 */
char StackPointer = 0;  /* 栈顶指针 */

/* 入栈函数 */
void Push(char Data) {
    /* 把数据存储到栈顶指针所指的位置上 */
    Stack[StackPointer] = Data;　
    /* 更新栈顶指针 */
    StackPointer ++;
}

/* 出栈函数 */
void Pop() {
    /* 更新栈顶指针 */
    StackPointer --；
    /* 把数据从栈顶指针所在的位置中取出来 */
    return Stack[StackPointer];
}

```
队列
    
```c
char Queue[100];    /*作为队列的本质的数组*/
char SetIndex = 0;  /*标识数据存储位置的索引*/
char GetIndex = 0;  /*标识数据读取位置的索引*/

/*存储数据的函数*/
void Set(char Data) {
    /*存入数据*/
    Queue[SetIndex] = Data;
    /*更新标识数据存储位置的索引*/
    SetIndex ++;
    /*如果已经达到数组的末尾则折回开头*/
    if (SetIndex >= 100) {
        SetIndex = 0;
    }
}

/*读取数据的函数*/
void Get() {
    char Data;
    /*读出数据*/
    Data = Queue[GetIndex];
    /*更新标识数据读取位置的索引*/
    GetIndex ++;
    /*如果已经达到数组的末尾则折回开头*/
    if (GetIndex >= 100) {
        GetIndex = 0;
    }
    return Data;
}
```   
- 要点6：了解结构体的组成
    - 所谓结构体，就是把若干个数据项汇集到一处并赋予其名字后形成的一个整体。
    - 一旦定义完结构提，就可以把结构提当作是一种数据类型，用它来定义变量。
- 要点7：了解链表和二叉树的实现方法
    - 都是“自我引用的结构体”
## 个人理解
结构体什么的都可以理解了，但是不知道二叉树是怎么用的。
# 第七章 成为会使用面向对象编程的程序员吧
## 小章节
### 什么是面向对象
面向对象是一种基于以下思路的程序设计方法：将关注点置于对象本身，对象的构成要素包含对象的行为及操作，以此为基础进行编程。这种方法使程序易于复用。其中所使用的主要编程技巧有继承、封装、多态三种。
### 对面向对象的几种观点
- 观点1：面向对象编程通过把组件拼装到一起构建程序
类就是程序的组件。面向对象的关键在于能否灵活地运用类。
- 观点2：面向对象编程能够提升程序的开发效率和可维护性
“我是创造类的人，你是使用类的人”
- 观点3：面向对象是适用于开发大型程序的开发方法
- 观点4：面向对象就是在为现实世界建模
- 观点5：面向对象编程可以借助UML设计程序
- 观点6：面向对象通过在程序间传递消息驱动程序
- 观点7：在面向对象编程中使用继承、封装和多态
    - 继承：通过继承已存在的类所拥有的成员而生成新的类
    - 封装：在类中所拥有的成员中，隐藏掉那些没有必要展现给该类调用着的成员
    - 多态：针对同一种消息，不同的对象可以进行不同的操作
### 类的三种使用方法
- 仅仅调用类所持有的个别成员（函数和变量）
- 在类的定义中包含其他的类（又称组合）
- 通过继承已存在的类定义出新的类
## 个人看法
一开始看到这个章节的时候有些不以为意，可看过之后才知道自己是太年轻了。虽说我一直实践着面向对象编程，可我依旧不知道为什么要使用面向对象编程。在实际的工作中。我所用的的面向对象很大程度上是基于现有的框架。比如说在js中，我的那一套就根本没有用到过面向对象编程。
这几个观点我几乎不知道有什么差距——甚至在我看来那都是面向对象的特性。但这正是我浅薄的一点——哪怕我昨天也看过这一章内容，我也说不清面向对象是什么——即便我一直在“用”。
这也是我一贯的做法——我很懒，懒到连概念都不愿意记。
对于什么是面向对象，这本书的作者说“面向对象编程就是把组件拼装到一起的进行编程的方法”。
# 第八章一用就会的数据库
## 问题
- 数据库术语中“表”是什么意思？
    - 表（table）就是被整理成表格形式的数据。一张表由若干列和行构成。列也被成为字段（field），行也被成为记录（record）
- DBMS是什么的简称？
    - Database Management System （数据库管理系统）的简称。比如MySQL
- 键和索引的区别是什么？
    - 键是用于设定表与表之前的关系（relationship），而索引是提升数据检索速度的机制。
    - 其上每个值都能唯一标识一条记录的字段被成为主键。为了在表与表之间建立关系而在表中添加的、其他表主键的字段被成为外键。而索引是与键无关的机制。
## 小章节
### 数据库是数据的基地
### 数据文件、DBMS和数据库应用程序
DBMS是应用程序和数据文件的中介
```flow
a=>subroutine: 应用程序
d=>operation: 请求操作数据
b=>subroutine: DBMS
e=>operation: 实际操作数据
c=>subroutine: 数据文件

a->d->b->e->c
```
### 构建数据库
1. 设计数据库
    1. 把必要数据筛选出来
    2. 考虑各种数据的属性（数据类型）
2. 通过拆表和整理数据实现规范化
    - 所谓规范化，就是把一张大表分割成多张小表，然后再在小表之间建立关系，以此来达到整理数据库结构的目的
    - 规范化的要点是在一个数据库中要避免重复存储相同的数据。
3. 用主键和外键在表间建立关系
    - 表之间的关系使记录和记录关联了起来。记录之间虽然在逻辑上有一对一、多对多、一对多（多对一）三种关系，但关系型数据库无法直接表示多对多关系。比如把商城的数据库只分为顾客表和商品表，那么两表之间就形成了多对多关系（一个客人可以买多种商品，同时一种商品也可以被多个人买）。这时，可在两表之间再加一表——销售记录表。这张加入的表被称作链接表（link table）。
    - DBMS还具有检查参照完整性的功能，这种机制也是为了一致并安全地存储数据。
4. 索引能够提升数据库的检索速度
    - 索引表是一种数据结构，存储着字段的值以及字段所对应记录的位置。如果在顾客表的顾客姓名字段上设置索引，DBMS就会创建一张索引表。表中有两个字段，分别存储着顾客姓名和位置。因为索引表中的字段数更少，所以可以更快地进行数据的检索和排序。当查询数据时，DBMS先在索引表进行数据的检索和排序，然后根据位置信息把完整的数据从原有的表中取出来。
5. 设计用户界面
    - 优先设计数据库，再设计用户界面
6. 向DBMS发送CURD操作的SQL语句
    - 为了对数据库进行CURD操作，就必须从应用程序向DMBS发送命令（SQL语句）
7. 使用数据对象向DBMS发送SQL语句
    - 向DBMS发送SQL语句，一般情况下使用的都是被称为数据对象（data object）的软件组件
8. 事务控制也可以交给DBMS处理
## 个人看法
之前以为数据库自己都用了那么久，总该知道点什么。唉，其实书中所述的我都知道，但实际上灵活运用的不多。在现在的开发中，数据库的效率要求不高，各种冗余字段的建立让我感觉像是做了假开发……
# 第九章 通过七个简单的实验理解TCP/IP网络
# 第十章 试着加密数据吧
# 第十一章 XML究竟是什么
# 第十二章 SE负责监管计算机系统的构建
